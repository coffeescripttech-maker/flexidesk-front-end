<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5-Star Rating Hover Preview Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .star {
      transition: all 0.2s ease;
    }
    .star:hover {
      transform: scale(1.1);
    }
    .star-filled {
      fill: #fbbf24;
      color: #fbbf24;
    }
    .star-empty {
      fill: none;
      color: #cbd5e1;
    }
  </style>
</head>
<body class="bg-slate-50 p-8">
  <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8">
    <h1 class="text-2xl font-bold mb-2">5-Star Rating Selector Test</h1>
    <p class="text-slate-600 mb-8">Hover over the stars to see the preview effect</p>
    
    <div class="space-y-8">
      <!-- Test 1: Basic Hover -->
      <div class="border-b pb-8">
        <h2 class="text-lg font-semibold mb-4">Test 1: Hover Preview</h2>
        <p class="text-sm text-slate-600 mb-4">Hover over any star to preview the rating</p>
        <div class="flex items-center gap-4">
          <div id="stars-1" class="flex gap-2">
            <!-- Stars will be rendered here -->
          </div>
          <div id="label-1" class="text-lg font-semibold text-slate-700"></div>
        </div>
        <p class="text-sm text-slate-500 mt-2">Selected: <span id="selected-1" class="font-semibold">None</span></p>
      </div>

      <!-- Test 2: Click to Select -->
      <div class="border-b pb-8">
        <h2 class="text-lg font-semibold mb-4">Test 2: Click to Select</h2>
        <p class="text-sm text-slate-600 mb-4">Click a star to select a rating, then hover to preview others</p>
        <div class="flex items-center gap-4">
          <div id="stars-2" class="flex gap-2">
            <!-- Stars will be rendered here -->
          </div>
          <div id="label-2" class="text-lg font-semibold text-slate-700"></div>
        </div>
        <p class="text-sm text-slate-500 mt-2">Selected: <span id="selected-2" class="font-semibold">None</span></p>
      </div>

      <!-- Test 3: Default Rating -->
      <div class="pb-8">
        <h2 class="text-lg font-semibold mb-4">Test 3: Default Rating (5 stars)</h2>
        <p class="text-sm text-slate-600 mb-4">Starts with 5 stars selected, hover to preview others</p>
        <div class="flex items-center gap-4">
          <div id="stars-3" class="flex gap-2">
            <!-- Stars will be rendered here -->
          </div>
          <div id="label-3" class="text-lg font-semibold text-slate-700"></div>
        </div>
        <p class="text-sm text-slate-500 mt-2">Selected: <span id="selected-3" class="font-semibold">5</span></p>
      </div>

      <!-- Instructions -->
      <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
        <h3 class="font-semibold text-blue-900 mb-2">✅ Expected Behavior:</h3>
        <ul class="text-sm text-blue-800 space-y-1">
          <li>• Stars should fill with amber color when hovering</li>
          <li>• Label should update to show rating text (Terrible, Poor, Okay, Good, Excellent)</li>
          <li>• Stars should scale up slightly on hover (1.1x)</li>
          <li>• Clicking a star should select that rating</li>
          <li>• After clicking, hovering should still show preview</li>
          <li>• When mouse leaves, should return to selected rating</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    const ratingLabels = {
      5: "Excellent",
      4: "Good",
      3: "Okay",
      2: "Poor",
      1: "Terrible",
    };

    function createStarRating(containerId, labelId, selectedId, defaultRating = 0) {
      const container = document.getElementById(containerId);
      const labelEl = document.getElementById(labelId);
      const selectedEl = document.getElementById(selectedId);
      
      let selectedRating = defaultRating;
      let hoverRating = 0;

      function updateDisplay() {
        const displayRating = hoverRating || selectedRating;
        labelEl.textContent = displayRating ? ratingLabels[displayRating] : '';
        
        // Update stars
        for (let i = 1; i <= 5; i++) {
          const star = document.getElementById(`${containerId}-star-${i}`);
          if (i <= displayRating) {
            star.classList.remove('star-empty');
            star.classList.add('star-filled');
          } else {
            star.classList.remove('star-filled');
            star.classList.add('star-empty');
          }
        }
      }

      // Create stars
      for (let i = 1; i <= 5; i++) {
        const button = document.createElement('button');
        button.className = 'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded';
        button.innerHTML = `
          <svg id="${containerId}-star-${i}" class="star h-10 w-10 ${i <= defaultRating ? 'star-filled' : 'star-empty'}" 
               xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" 
                  d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
          </svg>
        `;
        
        button.addEventListener('mouseenter', () => {
          hoverRating = i;
          updateDisplay();
        });
        
        button.addEventListener('mouseleave', () => {
          hoverRating = 0;
          updateDisplay();
        });
        
        button.addEventListener('click', () => {
          selectedRating = i;
          selectedEl.textContent = i;
          updateDisplay();
        });
        
        container.appendChild(button);
      }

      updateDisplay();
    }

    // Initialize all test cases
    createStarRating('stars-1', 'label-1', 'selected-1', 0);
    createStarRating('stars-2', 'label-2', 'selected-2', 0);
    createStarRating('stars-3', 'label-3', 'selected-3', 5);
  </script>
</body>
</html>
